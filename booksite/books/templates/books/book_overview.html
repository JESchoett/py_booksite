{% extends "base.html" %}
{% block title %}Bücher Übersicht{% endblock %}


{% block content %}

<h1>Bücher Übersicht</h1>

    <div class="table-responsive custom-table">
        <table id="bookTable" class="table table-striped table-hover table-borderless" style="width:100%">
            <thead>
                <tr>
                    <!--Hide less important columns for small displays using d-md-table-cell-->
                    <th>#</th>
                    <th>Titel</th>
                    <th class="d-none d-md-table-cell">Subtitel</th>
                    <th>Autor</th>
                    <th>Genre</th>
                    <th class="d-none d-md-table-cell">Schlagwörter</th>
                    <th class="d-none d-md-table-cell">Verlag</th>
                    <th>Jahr</th>
                    <th class="d-none d-md-table-cell">Format</th>
                    <th>Standort</th>
                </tr>
            </thead>
            <tbody>
                {% for book in all_books %}
                <tr>
                    <td class="table-nr"> <a href="{{ url_for('books.book_details', nummer=book['nummer']) }}">{{ book['nummer']}}</a></td>
                    <td class="fw-bold title-table"> <a href="{{ url_for('books.book_details', nummer=book['nummer']) }}">{{ book['titel'] }}</a></td>
                    <td class="d-none d-md-table-cell">{{ book['subtitel'] }}</td>
                    <td>{{ book['autor'] }}</td>
                    <td>{{ book['genre'] }}</td>
                    <td class="d-none d-md-table-cell">{{ book['schlagw'] }}</td>
                    <td class="d-none d-md-table-cell">{{ book['verlag'] }}</td>
                    <td>{{ book['jahr'] }}</td>
                    <td class="d-none d-md-table-cell">{{ book['format'] }}</td>
                    <td>{{ book['standort'] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    console.log("DataTable initialized");
    new DataTable('#bookTable', {
        language: {
            lengthMenu: "Einträge pro Seite:&nbsp;&nbsp; _MENU_",
            zeroRecords: "Keine passenden Einträge gefunden",
            info: "Zeige _START_ bis _END_ von _TOTAL_ Einträgen",
            infoEmpty: "Keine verfügbaren Einträge",
            infoFiltered: "(gefiltert von insgesamt _MAX_ Einträgen)",
            search: "Suchen:",
            paginate: {
                first: "Erste",
                last: "Letzte",
                next: "Nächste",
                previous: "Vorherige"
            }
        }
    });
});
</script>

{% endblock %}
